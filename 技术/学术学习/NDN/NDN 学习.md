# NDN 学习
命名数据网络于2010年开始作为 NSF 研究项目，用于为未来的互联网创建架构。

命名数据网络是一种网络服务，它一直在发展互联网基于主机的数据包传输模型。NDN 以安全、可靠和有效的方式直接按名称检索对象。主要目标是保护用户的信息一直到数据，而不仅仅是用 TLS 加密通道。在数据级别进行加密时，不再需要中间件。一切都在任何地方运行的软件堆栈中完成。

NDN 将状态放回路由器。获取元数据，即用于在应用程序层描述数据的数据模式，并将其放入网络层。这样在网络层将基于名称层次结构而不是IP地址进行路由。由于元数据正在级联到网络级别，因此现在可以缓存和分发元数据。

NDN 还可以使用多个网络而不用来回切换 IP。NDN 可以在删除 IP 地址的同时使用名称本地管理路由和安全性。它使用自己的路由协议，该协议具有与 OSPF 链路状态协议类似的属性。一个路由协议称为链路状态路由，是开源的，可以下载安装在 ios 和安卓上。同时 ndn 还可以作为 ip 的 overlay 使用，可以在 Kubernetes 和 linux 上运行。但不支持 Cisco 或 Juniper 设备

性能上， ndn 排除了 tcp/ip 的复杂度，提供较低延迟(>5ms)，可以比使用 tcp 更快的机制传输文件。

- NDN 节点维持三张表
	- 内容存储（CS）
	
		用来缓存进来的数据包；
	- 待定兴趣表（PIT）
	
		用来记录已经转发的但还未被满足的兴趣包
	- 转发信息表（FIB）
	
		用作基于内容名字的路由。
- 请求查询步骤 
	- 当节点接收到兴趣包，它首先查看 CS，如果在 CS 中找到匹配数据，节点将发回数据包。
	- 如果 CS 表没有，就在 PIT 中找
		- 如果存在匹配条目，兴趣包被丢弃，因为相同的请求已经被转发。
		- 否则，一个新的 PIT 条目被创建，兴趣包转发到存储在 FIB 中的接口。数据包遵循 PIT 条目的链条返回消费者，并且数据包可以被存储在中间节点。

- 节点中的缓存系统包括
	- 缓存决定策略，指定是否缓存进来的数据包；
	- 替代策略，指定当新来的数据包需要缓存，但 CS 已满，必须擦除什么元素。
-  NDN 中默认的缓存策略也叫做在任何地点缓存任何东西（CE2）
	
	方案：节点缓存每个进来的数据包，尽管替换通过标准策略执行，比如最近最少使用策略（LRU）。然而，许多论文已经指出通用缓存策略并不高效，比如由于高度的内容冗余和可用缓存资源的不高效利用。这是其他方案通常被用在文献中，包括概率性缓存的原因。概率性策略背后的关键想法是 NDN 节点通过确定的概率 p 随机缓存进来的数据包，其中 0<p<1 。CE2 策略是概率性方案的特殊案例，其中，p=1。减少p，减少了网络内缓存的概率，并最大化网络中缓存的数据包的多样性。
		
NDN 作为一种从零开始的方法，包括建筑管理系统（BMS）和智能传输系统（ITS），聚焦于命名、安全和转发方面。

- 互联网内容策略

	这些策略通常为预记录的多媒体文件设计，比如 Youtube 视频和类似的被因特网上的用户频繁请求的大内容；通常考虑固定的有线连接的内容路由器。值得注意的是，该方案的高性能通常以大的开销和高复杂性的代价获得。

- 性能
	- TCP 问题 

		TCP 窗口已经存在了几十年，虽然可以优化，但最终还在处理TCP和窗口大小。TCP 可以波动。如可能有 20 个 TCP 会话，而突然开始丢弃数据包，每个人都会下降窗口并减速。最终流量减少了。

		但是，如果不再丢弃数据包，窗口大小会变大，可以再次开始更快的传输。但着并不简单，因为它仍然取决于缓冲区大小，无论大小，以及是否采用智能缓冲。
	- NDN 方法

		NDN消除了所有复杂性。它提供较低延迟，能够使用比使用 TCP 窗口时更快地传输文件的机制。与传统的 IP/TCP 世界相比，它可以更快地通过命名数据管道发送数据。这实现了 5ms 或更短延迟，这对于 AR/VR 应用是有用的。这些应用程序必须在边缘计算站点运行。事实上，在传统 IP 网络上达到 5ms 用户标记是很复杂的。 
	- 未来网络

		多播～=广播,现在只能通过 youtube 来进行视频分发，未来可以直接广播给所有人
	
## 参考
- [【NDN IoT】Caching in Named Data Networking for the Wireless Internet of Things](https://cloud.tencent.com/developer/article/1436669)
- [https://named-data.net/](https://github.com/named-data)
- [Introducing Named Data Networking](https://www.networkworld.com/article/3313338/introducing-named-data-networking.html)
- [ndn docker 用法](https://github.com/peetonn/ndn-docker/tree/master/node)	
		